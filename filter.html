<script>
  const urlParams = new URLSearchParams(window.location.search);
  const tag = urlParams.get("tag");

  const container = document.getElementById("episodeContainer");

  for (const category in episodesData) {
    const matches = episodesData[category].filter(ep => ep.tags && ep.tags.includes(tag));
    matches.forEach(ep => {
      const epDiv = document.createElement("div");
      epDiv.className = "episode";
      epDiv.innerHTML = `
        <img src="${ep.thumbnail}" alt="${ep.title}">
        <p class="episode-title" onclick="playVideo('${ep.video}')">${ep.title}</p>
        ${ep.date}
        <div>${ep.tags.map(t => `<span class="tag" onclick="filterByTag('${t}')">${t}</span>`).join('')}</div>
      `;
      container.appendChild(epDiv);
    });
  }
</script>
